<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="The CloudNativePG Contributors" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Release notes for CloudNativePG 1.26 - CloudNativePG v1.26</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/override.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Release notes for CloudNativePG 1.26";
        var mkdocs_page_input_path = "release_notes/v1.26.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> CloudNativePG v1.26
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">CloudNativePG</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../before_you_start/">Before you start</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../use_cases/">Use cases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation_upgrade/">Installation and upgrades</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../quickstart/">Quickstart</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../image_catalog/">Image Catalog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../bootstrap/">Bootstrap</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../database_import/">Importing Postgres databases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../instance_manager/">Postgres Instance Manager</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../scheduling/">Scheduling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../resource_management/">Resource management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../failure_modes/">Failure Modes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../rolling_update/">Rolling updates</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../replication/">Replication</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../logical_replication/">Logical Replication</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../backup/">Backup</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../wal_archiving/">WAL archiving</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../recovery/">Recovery</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../service_management/">Service management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../postgresql_conf/">PostgreSQL Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../declarative_role_management/">PostgreSQL Role management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../declarative_database_management/">PostgreSQL Database management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../tablespaces/">Tablespaces</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../operator_conf/">Operator configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../cluster_conf/">Instance Pod configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../storage/">Storage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../labels_annotations/">Labels and Annotations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../monitoring/">Monitoring</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../logging/">Logging</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../certificates/">Certificates</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../ssl_connections/">Client TLS/SSL connections</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../applications/">Connecting from an application</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../connection_pooling/">Connection Pooling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../replica_cluster/">Replica clusters</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../kubernetes_upgrade/">Kubernetes upgrade and maintenance</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../postgres_upgrades/">PostgreSQL upgrades</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../kubectl-plugin/">Kubectl Plugin</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../failover/">Automated failover</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../fencing/">Fencing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../declarative_hibernation/">Declarative hibernation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../postgis/">PostGIS</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../e2e/">End-to-End Tests</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../container_images/">Container Image Requirements</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../cnpg_i/">CNPG-I</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../operator_capability_levels/">Operator capability levels</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../controller/">Custom Pod Controller</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../samples/">Examples</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../networking/">Networking</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../benchmarking/">Benchmarking</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../faq/">Frequently Asked Questions (FAQ)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../cloudnative-pg.v1/">API Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../supported_releases/">Supported releases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../preview_version/">Preview Versions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../">Release notes</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">CNCF Projects Integrations</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cncf-projects/external-secrets/">External Secrets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cncf-projects/cilium/">Cilium</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Appendixes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../appendixes/backup_volumesnapshot/">Appendix A - Backup on volume snapshots</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../appendixes/backup_barmanobjectstore/">Appendix B - Backup on object stores</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../appendixes/object_stores/">Appendix C - Common object stores for backups</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">CloudNativePG v1.26</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Release notes for CloudNativePG 1.26</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="release-notes-for-cloudnativepg-126">Release notes for CloudNativePG 1.26</h1>
<!-- SPDX-License-Identifier: CC-BY-4.0 -->

<p>History of user-visible changes in the 1.26 minor release of CloudNativePG.</p>
<p>For a complete list of changes, please refer to the
<a href="https://github.com/cloudnative-pg/cloudnative-pg/commits/release-1.26">commits</a>
on the release branch in GitHub.</p>
<h2 id="version-1263">Version 1.26.3</h2>
<p><strong>Release date:</strong> Dec 9, 2025</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is the final release in the 1.26.x series.
Users are strongly encouraged to upgrade to a newer minor version, as 1.26
is no longer supported.</p>
</div>
<h3 id="changes">Changes</h3>
<ul>
<li>
<p>Updated the default PostgreSQL version to <code>18.1-system-trixie</code>.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9178">#9178</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p>Updated the default PgBouncer version to <strong>1.25.1</strong> for new <code>Pooler</code>
  deployments.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9367">#9367</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
</ul>
<h3 id="enhancements">Enhancements</h3>
<ul>
<li>
<p>Added the PostgreSQL <code>majorVersion</code> to the <code>Backup</code> object's status for
  easier identification and management.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8464">#8464</a>) <!-- 1.27 1.26 --></p>
</li>
<li>
<p>Added the <code>PGBOUNCER_IMAGE_NAME</code> operator configuration parameter to allow
  overriding the default PgBouncer image. This is useful for air-gapped
  environments or when using internal registries.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9232">#9232</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p><code>cnpg</code> plugin:</p>
<ul>
<li>Improved <code>cnpg report</code> to generate more shell-friendly file names.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8984">#8984</a>) <!-- 1.27 1.26 1.25 --></li>
</ul>
</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>
<p>Fixed the <code>CheckEmptyWalArchive</code> safeguard to run correctly when restoring
  from a volume snapshot using CNPG-I backup/WAL plugins (e.g.,
  <code>plugin-barman-cloud</code>). Previously, this check was skipped for plugin-based
  implementations.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9306">#9306</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p>Fixed TLS certificate verification issues when connecting to CNPG-I plugins
  by adding the <code>cnpg.io/pluginServerName</code> annotation. This allows customizing
  the DNS name used for certificate verification in environments where the
  plugin's certificate uses a different DNS name than the Service name.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9222">#9222</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p>Fixed an issue where the instance manager controller could fail to restart
  after an error, reporting a "controller already exists" message. The
  controller now uses <code>SkipNameValidation</code> for subsequent initialization
  attempts. Contributed by @mateusoliveira43.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9123">#9123</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p>Fixed incorrect WAL restore path handling in plugins when the destination
  path is absolute, preventing path duplication issues. Contributed by
  @Endevir.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/9093">#9093</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p>Fixed the <code>CREATE PUBLICATION</code> SQL generation for multi-table publications to
  be backward-compatible with PostgreSQL 13+. The previously generated syntax
  was only valid for PostgreSQL 15+ and caused syntax errors on older versions.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8888">#8888</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p>Fixed backup failures in complex pod definitions by reliably selecting the
  <code>postgres</code> container by name instead of by index. Contributed by @Joda89.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8964">#8964</a>) <!-- 1.27 1.26 1.25 --></p>
</li>
<li>
<p><code>cnpg</code> plugin:</p>
<ul>
<li>Fixed bugs in <code>cnpg report</code> log collection, especially when fetching previous
  logs. The collector now correctly fetches previous and current logs in
  separate requests and gracefully handles missing previous logs (e.g., on
  containers with no restart history), ensuring current logs are always
  collected.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8992">#8992</a>) <!-- 1.27 1.26 1.25 --></li>
</ul>
</li>
</ul>
<h2 id="version-1262">Version 1.26.2</h2>
<p><strong>Release date:</strong> Oct 23, 2025</p>
<h3 id="changes_1">Changes</h3>
<ul>
<li>
<p>Delayed the decommissioning of native in-core support for Barman Cloud to at
  least version 1.29.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8670">#8670</a>)</p>
</li>
<li>
<p>Adopted the new format of <code>postgres-containers</code> and <code>postgis-containers</code>
  images and image catalog artifacts, and <strong>updated</strong> the default PostgreSQL
  version to <code>18.0-system-trixie</code> (PostgreSQL 18 is now supported).
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8578">#8578</a>,
  <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8760">#8760</a>,
  <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8558">#8558</a>)</p>
</li>
<li>
<p>Deprecated the <code>monitoring.enablePodMonitor</code> field in the <code>Cluster</code> and
  <code>Pooler</code> resources. This field will be removed in a future release. Users who
  rely on <code>PodMonitor</code> resources should create them manually instead.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8753">#8753</a>)</p>
</li>
</ul>
<h3 id="enhancements_1">Enhancements</h3>
<ul>
<li>
<p>Added support for overriding the PgBouncer <code>auth_type</code>, <code>server_tls_sslmode</code>,
  and <code>client_tls_sslmode</code> settings, which were previously hardcoded. Default
  values remain consistent with the former behavior but can now be customized
  when required.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8674">#8674</a>)</p>
</li>
<li>
<p>Added a <code>CHECKPOINT</code> step before PostgreSQL smart and fast shutdowns to
  reduce shutdown duration and replica promotion time, especially on systems
  with a high <code>checkpoint_timeout</code>.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8867">#8867</a>)</p>
</li>
<li>
<p>Added a warning in the instance manager for deprecated or unsupported OS
  versions, based on the official <code>postgres-containers</code> project.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8601">#8601</a>)</p>
</li>
<li>
<p>Improved certificate parsing error reporting. Failures now log specific
  errors instead of a generic message, aiding troubleshooting. This is
  particularly relevant after the CVE-2025-58187 fix in Go 1.25.2 and 1.24.8,
  which may trigger parsing failures for invalid DNS SANs.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8801">#8801</a>)</p>
</li>
<li>
<p>Added a check to ensure the destination WAL archive path is empty when
  bootstrapping a cluster using the <code>pg_basebackup</code> method, consistent with
  other bootstrap methods.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8895">#8895</a>)</p>
</li>
<li>
<p>Added validation to prevent backups from running on hibernated clusters.
  Backups attempted on such clusters now fail with reason
  <code>ClusterIsHibernated</code>, following the standard prerequisite check pattern.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8870">#8870</a>)</p>
</li>
<li>
<p>Added support for <code>pprof</code> profiling. Instances can now enable the <code>pprof</code>
  tool by adding the <code>alpha.cnpg.io/enableInstancePprof</code> annotation to the
  <code>Cluster</code> resource for advanced debugging.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7876">#7876</a>)</p>
</li>
<li>
<p><code>cnpg</code> plugin:</p>
</li>
<li>
<p>Updated the Flexible I/O Tester (FIO) image to
     <code>wallnerryan/fiotools-aio:v2</code>, as provided by Ryan Wallner.
     (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8847">#8847</a>)</p>
</li>
<li>
<p>Enhanced the <code>cnpg status backup</code> command to provide more detailed status
     information when using a <code>barman-cloud</code>-based backup plugin.
     (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8780">#8780</a>,
     <a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8690">#8690</a>)</p>
</li>
</ul>
<h3 id="fixes_1">Fixes</h3>
<ul>
<li>
<p>Fixed backup restoration failures when using custom WAL segment sizes with
  parallel WAL recovery. The operator no longer manages the end-of-WAL file
  marker during restoration, preventing errors when backups span multiple WAL
  segments.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8873">#8873</a>)</p>
</li>
<li>
<p>Fixed a bug in major upgrades where a volume snapshot from a previous minor
  version could be incorrectly used to optimize replica creation.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8475">#8475</a>)</p>
</li>
<li>
<p>Fixed <code>initdb</code> to wait for the application user secret before bootstrapping
  a new cluster, preventing potential race conditions.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8663">#8663</a>)</p>
</li>
<li>
<p>Fixed the connection retry logic in the <code>cnpgi</code> plugin. The reconciliation
  loop now detects connection pool changes correctly and uses exponential
  backoff to reduce "closed pool" errors.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8554">#8554</a>)</p>
</li>
<li>
<p>Fixed volume snapshot usage during replica scaling to work with backup plugins.
  Previously, this optimization was only available with the in-tree backup
  implementation, but now clusters using backup plugins can also leverage volume
  snapshots when creating new replicas.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8506">#8506</a>)</p>
</li>
<li>
<p>Fixed the <code>Pooler</code> templating to correctly inherit settings for the
  bootstrap controller init container.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8394">#8394</a>)</p>
</li>
<li>
<p>Fixed webhook errors to use the correct API group (<code>postgresql.cnpg.io</code>) in
  <code>Pooler</code> and backup webhooks, ensuring consistent API error reporting.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8485">#8485</a>)</p>
</li>
<li>
<p>Fixed a potential nil pointer dereference in the hibernation reconciler when
  handling errors. Contributed by @PascalBourdier.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8756">#8756</a>)</p>
</li>
<li>
<p>Fixed an issue in the environment cache where callers could inadvertently
  modify shared data. The <code>LoadEnv</code> function now returns a copy of cached
  environment slices to prevent mutations from affecting the cache.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8880">#8880</a>)</p>
</li>
</ul>
<h2 id="version-1261">Version 1.26.1</h2>
<p><strong>Release date:</strong> Jul 25, 2025</p>
<p><em>In memory of <a href="https://www.linkedin.com/in/codepope/">DJ Walker-Morgan</a>.</em></p>
<h3 id="important-changes">Important Changes</h3>
<p>CloudNativePG is moving toward a plugin-based, backup and recovery agnostic
architecture (initiated in 1.26.0 with Barman Cloud). As part of this
transition, the following fields in the <code>.status</code> section of the <code>Cluster</code>
resource are now deprecated:</p>
<ul>
<li><code>firstRecoverabilityPoint</code></li>
<li><code>firstRecoverabilityPointByMethod</code></li>
<li><code>lastSuccessfulBackup</code></li>
<li><code>lastSuccessfulBackupByMethod</code></li>
<li><code>lastFailedBackup</code></li>
</ul>
<p>Additionally, the following Prometheus metrics are deprecated:</p>
<ul>
<li><code>cnpg_collector_first_recoverability_point</code></li>
<li><code>cnpg_collector_last_available_backup_timestamp</code></li>
<li><code>cnpg_collector_last_failed_backup_timestamp</code></li>
</ul>
<p>These fields and metrics will no longer update when using plugin-based backups
(e.g., Barman Cloud via CNPG-I). They remain functional for users still using
in-core Barman Cloud and volume snapshot backups.</p>
<blockquote>
<p><strong>Note:</strong> We, as maintainers, are sorry for any inconvenience caused by not
highlighting this change during the 1.26.0 release. As we transition to a
plugin-based backup and recovery architecture, we encourage you to <strong>test
your chosen plugin thoroughly in a staging environment before moving to
production</strong> to ensure your workflows and observability integration continue
to meet your needs. Thank you for your understanding and for working with us
as CloudNativePG evolves to provide a more modular and robust experience.</p>
</blockquote>
<h3 id="changes_2">Changes</h3>
<ul>
<li>Removed <code>386</code> and ARM (v5/v6/v7) architectures from the <code>cnpg</code> plugin build
  matrix, reducing the number of published binaries
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7648">#7648</a>).</li>
</ul>
<h3 id="enhancements_2">Enhancements</h3>
<ul>
<li>
<p>Improved validation of <code>shared_buffers</code> by correctly considering <code>HugePages</code>
  settings, ensuring accurate memory configuration checks
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7864">#7864</a>).</p>
</li>
<li>
<p>Set <code>oom_score_adj</code> for PostgreSQL worker processes to improve prioritization
  during out-of-memory situations
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7891">#7891</a>).</p>
</li>
<li>
<p>Added <code>fqdn-uri</code> and <code>fqdn-jdbc-uri</code> fields in user secrets to simplify
  application connection string management and align with DNS-based connection
  best practices (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7852">#7852</a>).</p>
</li>
<li>
<p>Added the <code>systemID</code> field and related condition in the <code>Cluster</code> status to track
  the PostgreSQL system identifier.
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7717">#7717</a>).</p>
</li>
</ul>
<h3 id="fixes_2">Fixes</h3>
<ul>
<li>
<p>Added a mutex in the connection pooler to protect concurrent access to the
  connections map, improving stability in high-concurrency environments
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7804">#7804</a>).</p>
</li>
<li>
<p>Fixed replica cluster instance ordering by correctly detecting the designated
  primary, improving replica cluster stability and switchover operations
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8108">#8108</a>).</p>
</li>
<li>
<p>Added support for reconciling <code>VolumeAttributesClass</code> for PVCs, enhancing
  storage compatibility and lifecycle management
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7885">#7885</a>).</p>
</li>
<li>
<p>Made the internal webserver routines non-blocking to improve responsiveness
  under load (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8071">#8071</a>).</p>
</li>
<li>
<p>Fixed an issue where the <code>ensureReplicationClientLeafCertificate</code> error did
  not display the correct <code>secretName</code> in the not found message
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/8086">#8086</a>).</p>
</li>
<li>
<p>Prevented invalid <code>ALTER SUBSCRIPTION</code> statements by updating only
  PostgreSQL‑supported parameters; unsupported options like <code>copy_data</code> are
  ignored to avoid reconciliation failures
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7844">7844</a>).</p>
</li>
<li>
<p>Fixed an issue where the <code>bootstrap-controller</code> in the connection pooler did
  not apply <code>resources</code> settings correctly
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7922">#7922</a>).</p>
</li>
<li>
<p>Ensured online backups fail cleanly if the <code>targetPod</code> becomes unhealthy
  during backup, preventing partial or misleading backups
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7944">#7944</a>).</p>
</li>
<li>
<p>Ensured the Backup resource status is set properly after a failure, improving
  observability and scripting reliability
  (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7898">#7898</a>).</p>
</li>
<li>
<p>Improved liveness probe handling to avoid unnecessary timeouts when they are
  not required (<a href="https://github.com/cloudnative-pg/cloudnative-pg/pull/7902">#7902</a>).</p>
</li>
</ul>
<h2 id="version-1260">Version 1.26.0</h2>
<p><strong>Release date:</strong> May 23, 2025</p>
<h3 id="important-changes_1">Important Changes</h3>
<ul>
<li>
<p><strong>CloudNativePG is now officially a CNCF project</strong>: CloudNativePG has been
  accepted into the Cloud Native Computing Foundation (CNCF), marking a
  significant milestone in its evolution. As part of this transition, the project
  is now governed under <strong>CloudNativePG, a Series of LF Projects, LLC</strong>, ensuring
  long-term sustainability and community-driven innovation. (#7203)</p>
</li>
<li>
<p><strong>Deprecation of Native Barman Cloud Support</strong>: Native support for Barman
  Cloud backups and recovery is now deprecated and will be fully removed in
  CloudNativePG version 1.28.0. Although still available in the current release,
  users are strongly encouraged to begin migrating their existing clusters to the
  new <a href="https://cloudnative-pg.io/plugin-barman-cloud/">Barman Cloud Plugin</a> to
  ensure a smooth and seamless transition. The plugin should also be used for all
  new deployments. This change marks the first step toward making CloudNativePG a
  backup-agnostic solution, a goal that will be fully realized when volume
  snapshot support is also moved to a plugin-based architecture. (#6876)</p>
</li>
<li>
<p><strong>End of Support for Barman 3.4 and Earlier</strong>: CloudNativePG no longer
  supports Barman versions 3.4 and earlier, including the capability detection
  framework. Users running older operand versions (from before April 2023) must
  update their operand before upgrading the operator to avoid compatibility
  issues. (#7220)</p>
</li>
<li>
<p><strong>Hibernation Command Changes</strong>: The <code>hibernate on</code> and <code>hibernate off</code>
  commands in the <code>cnpg</code> plugin for <code>kubectl</code> now serve as shortcuts for
  declarative hibernation. The previous imperative approach has been removed in
  favor of this method. Additionally, the <code>hibernate status</code> command has been
  removed, as its functionality is now covered by the standard <code>status</code>
  command. <strong>Warning:</strong> Do not upgrade to version 1.26 of both the plugin and
  the operator unless you are prepared to migrate to the declarative
  hibernation method. (#7155)</p>
</li>
</ul>
<h3 id="features">Features</h3>
<ul>
<li>
<p><strong>Declarative Offline In-Place Major Upgrades of PostgreSQL</strong>: Introduced
  support for offline in-place major upgrades when a new operand container
  image with a higher PostgreSQL major version is applied to a cluster. During
  the upgrade, all cluster pods are shut down to ensure data consistency. A new
  job is created to validate upgrade conditions, run <code>pg_upgrade</code>, and set up new
  directories for <code>PGDATA</code>, WAL files, and tablespaces as needed. Once the
  upgrade is complete, replicas are re-created. Failed upgrades can be rolled
  back declaratively. (#6664)</p>
</li>
<li>
<p><strong>Improved Startup and Readiness Probes for Replicas</strong>: Enhanced support for
  Kubernetes startup and readiness probes in PostgreSQL instances, providing
  greater control over replicas based on the streaming lag. (#6623)</p>
</li>
<li>
<p><strong>Declarative management of extensions and schemas</strong>: Introduced the
  <code>extensions</code> and <code>schemas</code> stanzas in the Database resource to declaratively
  create, modify, and drop PostgreSQL extensions and schemas within a database. (#7062)</p>
</li>
</ul>
<h3 id="enhancements_3">Enhancements</h3>
<ul>
<li>
<p>Introduced an opt-in experimental feature to enhance the liveness probe with
  network isolation detection for primary instances. This feature can be
  activated via the <code>alpha.cnpg.io/livenessPinger</code> annotation (#7466). <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Introduced the <code>STANDBY_TCP_USER_TIMEOUT</code> operator configuration setting,
  allowing users to specify the <code>tcp_user_timeout</code> parameter on all standby
  instances managed by the operator. (#7036) <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Introduced the <code>DRAIN_TAINTS</code> operator configuration option, enabling users
  to customize which node taints indicate a node is being drained. This
  replaces the previous fixed behavior of only recognizing
  <code>node.kubernetes.io/unschedulable</code> as a drain signal. (#6928) <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Added a new field in the <code>status</code> of the <code>Cluster</code> resource to track the
  latest known Pod IP (#7546).  <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Added the <code>pg_extensions</code> metric, providing information about installed
  PostgreSQL extensions and their latest available versions. (#7195) <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Added the <code>KUBERNETES_CLUSTER_DOMAIN</code> configuration option to the operator,
  allowing users to specify the domain suffix for fully qualified domain names
  (FQDNs) generated within the Kubernetes cluster. If not set, it defaults to
  <code>cluster.local</code>. (#6989) <!-- no 1.22 --></p>
</li>
<li>
<p>Implemented the <code>cnpg.io/validation</code> annotation, enabling users to disable
  the validation webhook on CloudNativePG-managed resources. Use with caution,
  as this allows unrestricted changes. (#7196)</p>
</li>
<li>
<p>Added support for patching PostgreSQL instance pods using the
  <code>cnpg.io/podPatch</code> annotation with a JSON Patch. This may introduce
  discrepancies between the operator’s expectations and Kubernetes behavior, so
  it should be used with caution. (#6323) <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Added support for collecting <code>pg_stat_wal</code> metrics in PostgreSQL 18. (#7005)</p>
</li>
<li>
<p>Removed the <code>ENABLE_AZURE_PVC_UPDATES</code> configuration, as it is no longer
  required to resize Azure volumes correctly. The Azure CSI driver includes the
  necessary fix as of version <a href="https://github.com/kubernetes-sigs/azuredisk-csi-driver/releases/tag/v1.11.0">1.11.0</a>. (#7297) <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>The <code>.spec.backup.barmanObjectStore</code> and <code>.spec.backup.retentionPolicy</code>
  fields are now deprecated in favor of the external Barman Cloud Plugin, and a
  warning is now emitted by the admission webhook when these fields are used in
  the <code>Cluster</code> specification (#7500).  <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Added support for LZ4, XZ, and Zstandard compression methods when archiving
  WAL files via Barman Cloud (<em>deprecated</em>). (#7151)</p>
</li>
<li>
<p>CloudNativePG Interface (CNPG-I):</p>
<ul>
<li>
<p>A plugin can now trigger instance rollouts by implementing the <code>EVALUATE</code>
  verb, ensuring that plugin-induced changes are properly reconciled. (#7126) <!-- no 1.24 1.22 --></p>
</li>
<li>
<p>Introduced support for WAL recovery via CNPG-I plugins during snapshot
  restore. (#7284) <!-- no 1.24 and 1.22 --></p>
</li>
</ul>
</li>
</ul>
<h3 id="security">Security</h3>
<ul>
<li>Set <code>imagePullPolicy</code> to <code>Always</code> for the operator deployment to ensure that
  images are always pulled from the registry, reducing the risk of using
  outdated or potentially unsafe local images. (#7250)</li>
</ul>
<h3 id="fixes_3">Fixes</h3>
<ul>
<li>
<p>Fixed native replication slot synchronization and logical replication
  failover for PostgreSQL 17 by appending the <code>dbname</code> parameter to
  <code>primary_conninfo</code> in replica configurations (#7298).</p>
</li>
<li>
<p>Fixed a regression in WAL restore operations that prevented fallback to the
  in-tree <code>barmanObjectStore</code> configuration defined in the <code>externalCluster</code>
  source when a plugin failed to locate a WAL file (#7507). <!-- no 1.24 1.22 --></p>
</li>
<li>
<p>Improved backup efficiency by introducing a fail-fast mechanism in WAL
  archiving, allowing quicker detection of unexpected primary demotion and
  avoiding unnecessary retries (#7483).</p>
</li>
<li>
<p>Fixed an off-by-one error in parallel WAL archiving that could cause one
  extra worker process to be spawned beyond the requested number (#7389).</p>
</li>
<li>
<p>Resolved a race condition that caused the operator to perform two switchovers
  when updating the PostgreSQL configuration. (#6991)</p>
</li>
<li>
<p>Corrected the <code>PodMonitor</code> configuration by adjusting the <code>matchLabels</code> scope
  for the targeted pooler and cluster pods. Previously, the <code>matchLabels</code> were
  too broad, inadvertently inheriting labels from the cluster and leading to data
  collection from unintended targets. (#7063)</p>
</li>
<li>
<p>Added a webhook warning for clusters with a missing unit (e.g., MB, GB) in
  the <code>shared_buffers</code> configuration. This will become an error in future
  releases. Users should update their configurations to include explicit units
  (e.g., <code>512MB</code> instead of <code>512</code>). (#7160)</p>
</li>
<li>
<p>Treated timeout errors during volume snapshot creation as retryable to
  prevent unnecessary backup failures. (#7010) <!-- no 1.24 1.22 --></p>
</li>
<li>
<p>Moved the defaulting logic for <code>.spec.postgresql.synchronous.dataDurability</code>
  from the CRD to the webhook to avoid UI issues with OLM. (#7600) <!-- no 1.24 1.22 --></p>
</li>
<li>
<p>CloudNativePG Interface (CNPG-I):</p>
<ul>
<li>
<p>Implemented automatic reloading of TLS certificates for plugins when they
  change. (#7029) <!-- no 1.22 --></p>
</li>
<li>
<p>Ensured the operator properly closes the plugin connection when
  performing a backup using the plugin. (#7095, #7096) <!-- no 1.22 --></p>
</li>
<li>
<p>Fixed an issue that prevented WALs from being archived on a former
  primary node when using a plugin. (#6964) <!-- no 1.25 1.24 1.22 --></p>
</li>
<li>
<p>Improved performance and resilience of CNPG-I by removing timeouts for local
  plugin operations, avoiding failures during longer backup or WAL archiving
  executions (#7496). <!-- no 1.22 --></p>
</li>
</ul>
</li>
<li>
<p><code>cnpg</code> plugin:</p>
<ul>
<li>
<p>Increased the buffer size in the <code>logs pretty</code> command to better handle
  larger log output (#7281). <!-- no 1.24 1.22 --></p>
</li>
<li>
<p>Ensured the <code>plugin-name</code> parameter is required for plugin-based backups
  and disallowed for non-plugin backup methods (#7506). <!-- no 1.24 1.22 --></p>
</li>
<li>
<p>Ensured that the primary Pod is recreated during an imperative restart when
  <code>primaryUpdateMethod</code> is set to <code>restart</code>, aligning its definition with the
  replicas. (#7122)</p>
</li>
</ul>
</li>
</ul>
<h3 id="changes_3">Changes</h3>
<ul>
<li>
<p>Updated the default PostgreSQL version to 17.5 for new cluster
  definitions. (#7556)</p>
</li>
<li>
<p>Updated the default PgBouncer version to <strong>1.24.1</strong> for new <code>Pooler</code>
  deployments (#7399).</p>
</li>
</ul>
<h3 id="supported-versions">Supported versions</h3>
<ul>
<li>Kubernetes 1.33, 1.32, 1.31, and 1.30</li>
<li>PostgreSQL 17, 16, 15, 14, and 13<ul>
<li>PostgreSQL 17.5 is the default image</li>
<li>PostgreSQL 13 support ends on November 12, 2025</li>
</ul>
</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright © CloudNativePG a Series of LF Projects, LLC</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
