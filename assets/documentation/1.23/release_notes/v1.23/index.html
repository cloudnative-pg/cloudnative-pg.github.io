<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="The CloudNativePG Contributors" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Release notes for CloudNativePG 1.23 - CloudNativePG v1.23</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/override.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Release notes for CloudNativePG 1.23";
        var mkdocs_page_input_path = "release_notes/v1.23.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> CloudNativePG v1.23
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">CloudNativePG</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../before_you_start/">Before You Start</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../use_cases/">Use cases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation_upgrade/">Installation and upgrades</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../quickstart/">Quickstart</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../image_catalog/">Image Catalog</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../bootstrap/">Bootstrap</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../database_import/">Importing Postgres databases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../instance_manager/">Postgres instance manager</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../scheduling/">Scheduling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../resource_management/">Resource management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../failure_modes/">Failure Modes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../rolling_update/">Rolling Updates</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../replication/">Replication</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../backup/">Backup</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../backup_barmanobjectstore/">Backup on object stores</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../wal_archiving/">WAL archiving</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../backup_volumesnapshot/">Backup on volume snapshots</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../recovery/">Recovery</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../postgresql_conf/">PostgreSQL Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../declarative_role_management/">Database Role Management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../tablespaces/">Tablespaces</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../operator_conf/">Operator configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../cluster_conf/">Instance pod configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../storage/">Storage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../labels_annotations/">Labels and annotations</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../monitoring/">Monitoring</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../logging/">Logging</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../certificates/">Certificates</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../ssl_connections/">Client TLS/SSL connections</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../applications/">Connecting from an application</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../connection_pooling/">Connection pooling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../replica_cluster/">Replica clusters</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../kubernetes_upgrade/">Kubernetes Upgrade and Maintenance</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../expose_pg_services/">Exposing Postgres Services</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../kubectl-plugin/">Kubectl Plugin</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../failover/">Automated failover</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../fencing/">Fencing</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../declarative_hibernation/">Declarative hibernation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../postgis/">PostGIS</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../e2e/">End-to-End Tests</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../container_images/">Container Image Requirements</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../operator_capability_levels/">Operator capability levels</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../controller/">Custom Pod Controller</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../samples/">Examples</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../networking/">Networking</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../benchmarking/">Benchmarking</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../commercial_support/">Commercial support</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../faq/">Frequently Asked Questions (FAQ)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../cloudnative-pg.v1/">API Reference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../supported_releases/">Supported releases</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../">Release notes</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Appendixes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../appendixes/object_stores/">Appendix A - Common object stores for backups</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">CloudNativePG v1.23</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Release notes for CloudNativePG 1.23</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="release-notes-for-cloudnativepg-123">Release notes for CloudNativePG 1.23</h1>
<p>History of user-visible changes in the 1.23 minor release of CloudNativePG.</p>
<p>For a complete list of changes, please refer to the
<a href="https://github.com/cloudnative-pg/cloudnative-pg/commits/release-1.23">commits</a>
on the release branch in GitHub.</p>
<h2 id="version-1233">Version 1.23.3</h2>
<p><strong>Release date:</strong> Jul 29, 2024</p>
<h3 id="enhancements">Enhancements:</h3>
<ul>
<li>Add transparent support for PostgreSQL 17's <code>allow_alter_system</code> parameter,
  enabling or disabling the <code>ALTER SYSTEM</code> command through the
  <code>.spec.postgresql.enableAlterSystem</code> option (#4921).</li>
<li>Introduce the <code>reconcilePodSpec</code> annotation on the <code>Cluster</code> and <code>Pooler</code>
  resources to control the restart of pods following a change in the Pod
  specification (#5069).</li>
<li>Support the new metrics introduced in PgBouncer 1.23 in the <code>Pooler</code> metrics
  collector (#5044).</li>
</ul>
<h3 id="fixes">Fixes:</h3>
<ul>
<li>Enhance the mechanism for detecting Pods that have been terminated but not
  deleted during an eviction process, and extend the cleanup process during
  maintenance windows to include unschedulable Pods when the <code>reusePVC</code> flag is
  set to false (#2056).</li>
<li>Disable <code>pg_rewind</code> execution for newly created replicas that employ
  VolumeSnapshot during bootstrapping to avoid introducing a new shutdown
  checkpoint entry in the WAL files. This ensures that replicas can reconnect to
  the primary without issues, which would otherwise be hindered by the additional
  checkpoint entry (#5081).</li>
<li>Gracefully handle failures during the initialization of a new instance.
  Any remaining data from the failed initialization is now either removed or,
  if it's a valid PostgreSQL data directory, moved to a backup location to avoid
  possible data loss (#5112).</li>
<li>Enhance the robustness of the immediate backups reconciler by implementing
  retry logic upon initial backup failure (#4982).</li>
<li>Wait for the <code>postmaster</code> to shut down before starting it again (#4938).</li>
<li>Ensure that the <code>Pooler</code> service template can override the default service
  (#4846).</li>
<li>Exclude immutable databases from <code>pg_database</code> metric monitoring and alerting
  processes (#4980).</li>
<li>Removed unnecessary permissions from the operator service account (#4911).</li>
<li>Fix cluster role permissions for <code>ClusterImageCatalogs</code> (#5034).</li>
<li>Ensure the operator initiates a rollout of the <code>Pooler</code> instance when
  the operator image is upgraded (#5006)</li>
<li>Address race condition causing the readiness probe to incorrectly
  show "not ready" after a PostgreSQL restart, even when the
  <code>postmaster</code> was accessible (#4920).</li>
<li>Prevent reconciliation of resources that aren't owned by a <code>Pooler</code> (#4967).</li>
<li>Renew the certificates managed by the operator when the DNS Subject
  Alternative Names (SANs) are updated (#3269, #3319).</li>
<li>Set PVC default <code>AccessModes</code> in the template only when unspecified (#4845).</li>
<li>Gracefully handle unsatisfiable backup schedule (#5109).</li>
<li><code>cnpg</code> plugin:</li>
<li>Properly handle errors during the <code>status</code> command execution.</li>
<li>Support TLS in the <code>status</code> command (#4915).</li>
</ul>
<h2 id="version-1232">Version 1.23.2</h2>
<p><strong>Release date:</strong> Jun 12, 2024</p>
<h3 id="enhancements_1">Enhancements:</h3>
<ul>
<li>
<p>Enabled configuration of standby-sensitive parameters during recovery using a
  physical backup (#4564)</p>
</li>
<li>
<p>Enabled the configuration of the liveness probe timeout via the
  <code>.spec.livenessProbeTimeout</code> option (#4719)</p>
</li>
<li>
<p><code>cnpg</code> plugin for <code>kubectl</code>:</p>
<ul>
<li>Enhanced support for ANSI colors in the plugin by adding the <code>--color</code>
  option, which accepts <code>always</code>, <code>never</code>, and <code>auto</code> (default) as values
  (#4775)</li>
<li>The plugin is now available on Homebrew for macOS users (#4602)</li>
</ul>
</li>
</ul>
<h3 id="fixes_1">Fixes:</h3>
<ul>
<li>
<p>Prevented fenced instances from entering an unnecessary loop and consuming
  all available CPU (#4625)</p>
</li>
<li>
<p>Resolved an issue where the instance manager on the primary would
  indefinitely wait for the instance to start after encountering a failure
  following a stop operation (#4434)</p>
</li>
<li>
<p>Fixed an issue where the interaction between <code>hot_standby_feedback</code> and
  managed cluster-level replication slots was preventing the autovacuum from
  operating correctly; this issue was causing disk space to remain occupied by
  dead tuples (#4811)</p>
</li>
<li>
<p>Fixed a panic in the backup controller that occurred when pod container
  statuses were missing (#4765)</p>
</li>
<li>
<p>Prevented unnecessary shutdown of the instance manager (#4670)</p>
</li>
<li>
<p>Prevented unnecessary reloads of PostgreSQL configuration when unchanged (#4531)</p>
</li>
<li>
<p>Prevented unnecessary reloads of the ident map by ensuring a consistent and
  unique method of writing its content (#4648)</p>
</li>
<li>
<p>Avoided conflicts during phase registration by patching the status of the
  resource instead of updating it (#4637)</p>
</li>
<li>
<p>Implemented a timeout when restarting PostgreSQL and lifting fencing (#4504)</p>
</li>
<li>
<p>Ensured that a replica cluster is restarted after promotion to properly set
  the archive mode (#4399)</p>
</li>
<li>
<p>Removed an unneeded concurrent keep-alive routine that was causing random
  failures in volume snapshot backups (#4768)</p>
</li>
<li>
<p>Ensured correct parsing of the additional rows field returned when the
  <code>pgaudit.log_rows</code> option was enabled, preventing audit logs from being
  incorrectly routed to the normal log stream (#4394)</p>
</li>
<li>
<p><code>cnpg</code> plugin for <code>kubectl</code>:</p>
<ul>
<li>Resolved an issue with listing PDBs using the <code>cnpg status</code> command (#4530)</li>
</ul>
</li>
</ul>
<h3 id="changes">Changes</h3>
<ul>
<li>Default operand image set to PostgreSQL 16.3 (#4584)</li>
<li>Removed all RBAC requirements on namespace objects (#4753)</li>
</ul>
<h2 id="version-1231">Version 1.23.1</h2>
<p><strong>Release date:</strong> Apr 29, 2024</p>
<h3 id="fixes_2">Fixes:</h3>
<ul>
<li>Corrects the reconciliation of <code>PodMonitor</code> resources, which was
  failing due to a regression (#4286)</li>
</ul>
<h2 id="version-1230">Version 1.23.0</h2>
<p><strong>Release date:</strong> Apr 24, 2024</p>
<div class="admonition important">
<p class="admonition-title">Important changes to Community Supported Versions</p>
<p>We've updated our support policy to streamline our focus on one supported
minor release at a time, rather than two. Additionally, we've extended the
supplementary support period for the previous minor release to 3 months.</p>
</div>
<h3 id="features">Features:</h3>
<ul>
<li><strong>PostgreSQL Image Catalogs:</strong> Introduced <code>ClusterImageCatalog</code> and
  <code>ImageCatalog</code> CRDs to manage operand container images based on PostgreSQL
  major version. This is facilitated through the <code>Cluster</code>'s
  <code>.spec.imageCatalogRef stanza</code>. This feature provides an alternative to the
  imageName option and will eventually replace it as the default method to define
  operand container images.</li>
<li><strong>User-Defined Replication Slots:</strong> Enhanced the synchronization of physical
  replication slots to cover user-defined replication slots on the primary,
  via the newly introduced stanza <code>replicationSlots.synchronizeReplicas</code>.</li>
<li><strong>Configuration of Pod Disruption Budgets (PDB)</strong>: Introduced the
  <code>.spec.enablePDB</code> field to disable PDBs on the primary instance, allowing
  proper eviction of the pod during maintenance operations. This is particularly
  useful for single-instance deployments. This feature is intended to replace the
  node maintenance window feature.</li>
</ul>
<h3 id="enhancements_2">Enhancements:</h3>
<ul>
<li>Users now have the capability to transition an existing cluster into replica
  mode, simplifying cross-datacenter switchover operations (#4261)</li>
<li>Users can now customize the connection pooler service, including its type,
  labels, and annotations (#3384)</li>
<li>Users can now configure the <code>wal_log_hints</code> PostgreSQL parameter (#4218)
  (#4218)</li>
<li>Fully Qualified Domain Names (FQDN) in URIs for automatically generated
  secrets (#4095)</li>
<li>Cleanup of instance Pods not owned by the Cluster during Cluster restore
  (#4141)</li>
<li>Command output of the plugin’s <code>status</code> command to show the status of PDBs
  (#4319)</li>
<li>Error detection when invoking <code>barman-cloud-wal-restore</code> in <code>recovery</code>
  bootstrap (#4101)</li>
</ul>
<h3 id="fixes_3">Fixes:</h3>
<ul>
<li>Ensured that before a switchover, the elected replica is in streaming
  replication (#4288)</li>
<li>Correctly handle parsing errors of instances' LSN when sorting them (#4283)</li>
<li>Recreate the primary Pod if there are no healthy standbys available to
  promote (#4132)</li>
<li>Cleanup <code>PGDATA</code> in case of failure of the restore job (#4151)</li>
<li>Reload certificates on configuration update (#3705)</li>
<li><code>cnpg</code> plugin for <code>kubectl</code>:<ul>
<li>Improve the arguments handling of <code>destroy</code>, <code>fencing</code>, and <code>promote</code>
  plugin commands (#4280)</li>
<li>Correctly handle the percentage of the backup progress in <code>cnpg status</code>
  (#4131)</li>
<li>Gracefully handle databases with no sequences in <code>sync-sequences</code> command
  (#4346)</li>
</ul>
</li>
</ul>
<h3 id="changes_1">Changes:</h3>
<ul>
<li>Operator images are now based on <code>gcr.io/distroless/static-debian12:nonroot</code>
  (#4201)</li>
<li>The Grafana dashboard now resides at
  https://github.com/cloudnative-pg/grafana-dashboards (#4154)</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
